AddDefaultCharset UTF-8

RewriteEngine on
	
#редирект с index.php на главную 
	RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /index\.php\ HTTP/
	RewriteRule ^index\.php$ / [R=301,L]
	
#cклейка index.php, html, htm с /
    #RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/+(.*?)index\.php|html|htm([^\s]*) [NC]
    #RewriteRule ^ /%1%2 [R=301,L,NE]
    
#редирект с www на без www, указываем необходимый домен
    RewriteCond %{HTTP_HOST} ^www\.(.*)$
	RewriteRule ^(.*)$ http://%1/$1 [L,R=301]

# удаление слеша из урл
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteCond %{REQUEST_URI} !^/admin/
	RewriteCond %{REQUEST_URI} ^(.+)/$
	RewriteRule ^(.+)/$ /$1 [R=301,L]
    
# if a directory or a file exists, use it directly
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} !^/favicon.ico 

# otherwise forward it to index.php
	DirectoryIndex index.php
	RewriteRule . index.php
